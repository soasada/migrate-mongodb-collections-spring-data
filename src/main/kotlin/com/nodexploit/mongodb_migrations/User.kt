package com.nodexploit.mongodb_migrations

import org.springframework.data.annotation.Id
import org.springframework.data.mongodb.core.mapping.Document
import java.util.UUID

@Document
data class User(
        @Id
        val id: String,
        val email: String,
        val emailConfirmed: Boolean?
) {
    constructor(email: String) : this(UUID.randomUUID().toString(), email, false)

    fun confirmEmail() = this.copy(emailConfirmed = true)
}